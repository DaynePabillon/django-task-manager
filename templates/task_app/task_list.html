{% extends 'task_app/base.html' %}

{% block title %}Tasks - Task Manager{% endblock %}

{% block content %}
<div class="tasks-header">
    <h2>All Tasks</h2>
    <p>Manage and track your tasks</p>
</div>

<div class="tasks-grid">
    {% for task in tasks %}
    <div class="task-card status-{{ task.status }} priority-{{ task.priority }}">
        <h3><a href="{% url 'task_app:task_detail' task.id %}">{{ task.title }}</a></h3>
        <p class="description">{{ task.description|truncatewords:20 }}</p>
        <div class="task-meta">
            <span class="priority priority-{{ task.priority }}">{{ task.get_priority_display }}</span>
            <span class="status status-{{ task.status }}">{{ task.get_status_display }}</span>
        </div>
        {% if task.due_date %}
            <p class="due-date">Due: {{ task.due_date|date:"M d, Y" }}</p>
        {% endif %}
        {% if task.assigned_to %}
            <p class="assigned">Assigned to: {{ task.assigned_to.username }}</p>
        {% endif %}
        <p class="created">Created: {{ task.created_at|date:"M d, Y" }}</p>
    </div>
    {% empty %}
    <div class="no-tasks">
        <p>No tasks available at the moment.</p>
        <p>Create your first task to get started!</p>
    </div>
    {% endfor %}
</div>
{% endblock %}
